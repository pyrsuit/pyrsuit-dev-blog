import"../chunks/CWj6FrbW.js";import"../chunks/69_IOA4Y.js";import{o as re}from"../chunks/BQKW94_3.js";import{an as se,X as oe,ao as le,h as ie,ag as ne,a0 as m,ai as S,g as a,a2 as f,aj as ue,am as _,ak as u,al as i,m as d,s as r}from"../chunks/BL34K8iG.js";import{l as ce,e as ve,r as fe,s as T}from"../chunks/PihmmPUa.js";import{i as j}from"../chunks/C5S1ovEm.js";import{e as de,i as me}from"../chunks/CB1J4oH8.js";import{r as pe,s as be}from"../chunks/D8rofwjd.js";import{i as he}from"../chunks/42L8Ptez.js";function J(e,o,n=o){var g=se();ce(e,"input",l=>{var s=l?e.defaultValue:e.value;if(s=G(e)?H(s):s,n(s),g&&s!==(s=o())){var p=e.selectionStart,v=e.selectionEnd;e.value=s??"",v!==null&&(e.selectionStart=p,e.selectionEnd=Math.min(v,e.value.length))}}),(ie&&e.defaultValue!==e.value||oe(o)==null&&e.value)&&n(G(e)?H(e.value):e.value),le(()=>{var l=o();G(e)&&l===H(e.value)||e.type==="date"&&!l&&!e.value||l!==e.value&&(e.value=l??"")})}function G(e){var o=e.type;return o==="number"||o==="range"}function H(e){return e===""?null:+e}function _e(e){return function(...o){var n=o[0];return n.preventDefault(),e==null?void 0:e.apply(this,o)}}var ge=m('<p class="text-red-600 mt-2"> </p>'),ye=m('<p class="text-gray-600">Loading issues…</p>'),xe=m('<p class="text-red-600"> </p>'),we=m('<p class="text-gray-600">No issues found.</p>'),ke=m('<li><a target="_blank" rel="noopener noreferrer" class="text-black hover:underline text-lg"> </a></li>'),Ee=m('<ul class="space-y-4"></ul>'),Ie=m(`<section class="w-full max-w-5xl mx-auto px-6 pt-4 pb-16 space-y-8"><h1 class="text-2xl font-light tracking-tight">Contribute a topic — I'm gathering things to dig into</h1> <form class="space-y-4"><div><label for="title" class="block text-sm font-medium text-gray-700">Title</label> <input id="title" type="text" required class="w-full mt-1 px-4 py-2 border border-gray-300 rounded-md shadow-sm bg-white focus:outline-none focus:ring focus:border-blue-300"/> <label for="description" class="block text-sm font-medium text-gray-700">Description</label> <textarea id="description" rows="4" class="w-full mt-1 px-4 py-2 border border-gray-300 rounded-md shadow-sm bg-white focus:outline-none focus:ring focus:border-blue-300"></textarea></div> <div><button type="submit" class="border border-black text-black bg-transparent px-4 py-2 rounded-md transition font-normal hover:font-semibold disabled:opacity-50"> </button> <!></div></form> <hr class="border-t border-gray-300 mt-10"/> <div class="mt-10 space-y-4"><!></div></section>`);function Ge(e,o){ne(o,!1);let n=d([]),g=d(!0),l=d(null),s=d(""),p=d(""),v=d(!1),y=d(null);const $="",q="pyrsuit",z="pyrsuit-dev-blog";async function K(){r(g,!0);try{const t=await fetch(`https://api.github.com/repos/${q}/${z}/issues?per_page=10`,{headers:{Authorization:`Bearer ${$}`}});if(!t.ok)throw new Error(`GitHub API error: ${t.status}`);r(n,await t.json()),r(l,null)}catch(t){r(l,t.message)}finally{r(g,!1)}}async function L(){if(r(y,null),!a(s)){r(y,"Title is required");return}r(v,!0);try{const t=await fetch(`https://api.github.com/repos/${q}/${z}/issues`,{method:"POST",headers:{Authorization:`Bearer ${$}`,"Content-Type":"application/json"},body:JSON.stringify({title:a(s),body:a(p)})});if(!t.ok){const x=await t.json();throw new Error(x.message||`GitHub API error: ${t.status}`)}const c=await t.json();r(n,[c,...a(n)]),r(s,""),r(p,"")}catch(t){r(y,t.message)}finally{r(v,!1)}}re(K),he();var O=Ie(),E=_(u(O),2),A=u(E),D=_(u(A),2);pe(D);var C=_(D,4);fe(C),i(A);var M=_(A,2),I=u(M),U=u(I,!0);i(I);var W=_(I,2);{var X=t=>{var c=ge(),x=u(c,!0);i(c),S(()=>T(x,a(y))),f(t,c)};j(W,t=>{a(y)&&t(X)})}i(M),i(E);var R=_(E,4),F=u(R);{var Q=t=>{var c=ye();f(t,c)},Y=(t,c)=>{{var x=b=>{var w=xe(),N=u(w);i(w),S(()=>T(N,`Error: ${a(l)??""}`)),f(b,w)},Z=(b,w)=>{{var N=h=>{var k=we();f(h,k)},ee=h=>{var k=Ee();de(k,5,()=>a(n),me,(te,V)=>{var P=ke(),B=u(P),ae=u(B,!0);i(B),i(P),S(()=>{be(B,"href",a(V).html_url),T(ae,a(V).title)}),f(te,P)}),i(k),f(h,k)};j(b,h=>{a(n).length===0?h(N):h(ee,!1)},w)}};j(t,b=>{a(l)?b(x):b(Z,!1)},c)}};j(F,t=>{a(g)?t(Q):t(Y,!1)})}i(R),i(O),S(()=>{I.disabled=a(v),T(U,a(v)?"Submitting...":"Submit")}),J(D,()=>a(s),t=>r(s,t)),J(C,()=>a(p),t=>r(p,t)),ve("submit",E,_e(L)),f(e,O),ue()}export{Ge as component};
