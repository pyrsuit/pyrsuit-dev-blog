import"../chunks/CWj6FrbW.js";import"../chunks/69_IOA4Y.js";import{o as re}from"../chunks/BQKW94_3.js";import{an as se,X as oe,ao as le,h as ie,ag as ne,a0 as m,ai as R,g as a,a2 as v,aj as ue,am as _,ak as u,al as i,m as f,s as r}from"../chunks/BL34K8iG.js";import{l as ce,e as de,r as ve,s as S}from"../chunks/PihmmPUa.js";import{i as I}from"../chunks/C5S1ovEm.js";import{e as fe,i as me}from"../chunks/CB1J4oH8.js";import{r as be,s as pe}from"../chunks/D8rofwjd.js";import{i as he}from"../chunks/42L8Ptez.js";function U(e,o,n=o){var g=se();ce(e,"input",l=>{var s=l?e.defaultValue:e.value;if(s=N(e)?O(s):s,n(s),g&&s!==(s=o())){var b=e.selectionStart,d=e.selectionEnd;e.value=s??"",d!==null&&(e.selectionStart=b,e.selectionEnd=Math.min(d,e.value.length))}}),(ie&&e.defaultValue!==e.value||oe(o)==null&&e.value)&&n(N(e)?O(e.value):e.value),le(()=>{var l=o();N(e)&&l===O(e.value)||e.type==="date"&&!l&&!e.value||l!==e.value&&(e.value=l??"")})}function N(e){var o=e.type;return o==="number"||o==="range"}function O(e){return e===""?null:+e}function _e(e){return function(...o){var n=o[0];return n.preventDefault(),e==null?void 0:e.apply(this,o)}}var ge=m('<p class="text-red-600 mt-2"> </p>'),xe=m('<p class="text-gray-600">Loading issues…</p>'),ye=m('<p class="text-red-600"> </p>'),we=m('<p class="text-gray-600">No issues found.</p>'),Ee=m('<li><a target="_blank" rel="noopener noreferrer" class="text-black hover:underline text-lg"> </a></li>'),ke=m('<ul class="space-y-4"></ul>'),Te=m(`<section class="w-full max-w-5xl mx-auto px-6 pt-4 pb-16 space-y-8"><h1 class="text-2xl font-light tracking-tight">Contribute a topic — I'm gathering things to dig into</h1> <form class="space-y-4"><div><label for="title" class="block text-sm font-medium text-gray-700">Title</label> <input id="title" type="text" required class="w-full mt-1 px-4 py-2 border border-gray-300 rounded-md shadow-sm bg-white focus:outline-none focus:ring focus:border-blue-300"/> <label for="description" class="block text-sm font-medium text-gray-700">Description</label> <textarea id="description" rows="4" class="w-full mt-1 px-4 py-2 border border-gray-300 rounded-md shadow-sm bg-white focus:outline-none focus:ring focus:border-blue-300"></textarea></div> <div><button type="submit" class="border border-black text-black bg-transparent px-4 py-2 rounded-md transition font-normal hover:font-semibold disabled:opacity-50"> </button> <!></div></form> <hr class="border-t border-gray-300 mt-10"/> <div class="mt-10 space-y-4"><!></div></section>`);function Oe(e,o){ne(o,!1);let n=f([]),g=f(!0),l=f(null),s=f(""),b=f(""),d=f(!1),x=f(null);const q=atob(`Z2l0aHViX3BhdF8xMUFYWE4zSUEwd0NubXExS09iT0E1X255TFVGQWMxdGRQall6eE1sR1hSRXFC
TXo5QjltQlVRbU16TTlwTFlwMEI2M05YTVVRRjRxRGFqMXpq`),A="pyrsuit",B="pyrsuit-dev-blog";async function z(){r(g,!0);try{const t=await fetch(`https://api.github.com/repos/${A}/${B}/issues?per_page=10`,{headers:{Authorization:`Bearer ${q}`}});if(!t.ok)throw new Error(`GitHub API error: ${t.status}`);r(n,await t.json()),r(l,null)}catch(t){r(l,t.message)}finally{r(g,!1)}}async function C(){if(r(x,null),!a(s)){r(x,"Title is required");return}r(d,!0);try{const t=await fetch(`https://api.github.com/repos/${A}/${B}/issues`,{method:"POST",headers:{Authorization:`Bearer ${q}`,"Content-Type":"application/json"},body:JSON.stringify({title:a(s),body:a(b)})});if(!t.ok){const y=await t.json();throw new Error(y.message||`GitHub API error: ${t.status}`)}const c=await t.json();r(n,[c,...a(n)]),r(s,""),r(b,"")}catch(t){r(x,t.message)}finally{r(d,!1)}}re(z),he();var j=Te(),k=_(u(j),2),M=u(k),V=_(u(M),2);be(V);var D=_(V,4);ve(D),i(M);var H=_(M,2),T=u(H),W=u(T,!0);i(T);var $=_(T,2);{var Y=t=>{var c=ge(),y=u(c,!0);i(c),R(()=>S(y,a(x))),v(t,c)};I($,t=>{a(x)&&t(Y)})}i(H),i(k);var P=_(k,4),J=u(P);{var K=t=>{var c=xe();v(t,c)},L=(t,c)=>{{var y=p=>{var w=ye(),X=u(w);i(w),R(()=>S(X,`Error: ${a(l)??""}`)),v(p,w)},Z=(p,w)=>{{var X=h=>{var E=we();v(h,E)},ee=h=>{var E=ke();fe(E,5,()=>a(n),me,(te,Q)=>{var F=Ee(),G=u(F),ae=u(G,!0);i(G),i(F),R(()=>{pe(G,"href",a(Q).html_url),S(ae,a(Q).title)}),v(te,F)}),i(E),v(h,E)};I(p,h=>{a(n).length===0?h(X):h(ee,!1)},w)}};I(t,p=>{a(l)?p(y):p(Z,!1)},c)}};I(J,t=>{a(g)?t(K):t(L,!1)})}i(P),i(j),R(()=>{T.disabled=a(d),S(W,a(d)?"Submitting...":"Submit")}),U(V,()=>a(s),t=>r(s,t)),U(D,()=>a(b),t=>r(b,t)),de("submit",k,_e(C)),v(e,j),ue()}export{Oe as component};
