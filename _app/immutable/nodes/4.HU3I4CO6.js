import"../chunks/Bzak7iHL.js";import"../chunks/69_IOA4Y.js";import{o as ne}from"../chunks/Catek-KF.js";import{an as ue,Z as ce,ao as de,h as ve,u as k,ap as fe,ag as me,f as b,ai as S,g as a,a as d,aj as be,am as x,ak as c,al as i,m,s as r,aq as W,ah as z}from"../chunks/CNLPSFaA.js";import{l as pe,e as he,r as _e,s as I}from"../chunks/DDW5EYSt.js";import{i as j}from"../chunks/HBJO-85G.js";import{e as ge,i as xe}from"../chunks/D_UQXI3Z.js";import{r as ye,s as we}from"../chunks/C_KZFSUz.js";import{i as Ee}from"../chunks/CqYGMEcy.js";function C(e,o,n=o){var y=ue(),v=new WeakSet;pe(e,"input",l=>{var s=l?e.defaultValue:e.value;if(s=N(e)?O(s):s,n(s),k!==null&&v.add(k),y&&s!==(s=o())){var p=e.selectionStart,f=e.selectionEnd;e.value=s??"",f!==null&&(e.selectionStart=p,e.selectionEnd=Math.min(f,e.value.length))}}),(ve&&e.defaultValue!==e.value||ce(o)==null&&e.value)&&(n(N(e)?O(e.value):e.value),k!==null&&v.add(k)),de(()=>{var l=o();if(e===document.activeElement){var s=fe??k;if(v.has(s))return}N(e)&&l===O(e.value)||e.type==="date"&&!l&&!e.value||l!==e.value&&(e.value=l??"")})}function N(e){var o=e.type;return o==="number"||o==="range"}function O(e){return e===""?null:+e}function ke(e){return function(...o){var n=o[0];return n.preventDefault(),e==null?void 0:e.apply(this,o)}}var Te=b('<p class="text-red-600 mt-2"> </p>'),Re=b('<p class="text-gray-600">Loading issues…</p>'),Se=b('<p class="text-red-600"> </p>'),Ie=b('<p class="text-gray-600">No issues found.</p>'),je=b('<li><a target="_blank" rel="noopener noreferrer" class="text-black hover:underline text-lg"> </a></li>'),Me=b('<ul class="space-y-4"></ul>'),Ve=b(`<section class="w-full max-w-5xl mx-auto px-6 pt-4 pb-16 space-y-8"><h1 class="text-2xl font-light tracking-tight">Contribute a topic — I'm gathering things to dig into</h1> <form class="space-y-4"><div><label for="title" class="block text-sm font-medium text-gray-700">Title</label> <input id="title" type="text" required class="w-full mt-1 px-4 py-2 border border-gray-300 rounded-md shadow-sm bg-white focus:outline-none focus:ring focus:border-blue-300"/> <label for="description" class="block text-sm font-medium text-gray-700">Description</label> <textarea id="description" rows="4" class="w-full mt-1 px-4 py-2 border border-gray-300 rounded-md shadow-sm bg-white focus:outline-none focus:ring focus:border-blue-300"></textarea></div> <div><button type="submit" class="border border-black text-black bg-transparent px-4 py-2 rounded-md transition font-normal hover:font-semibold disabled:opacity-50"> </button> <!></div></form> <hr class="border-t border-gray-300 mt-10"/> <div class="mt-10 space-y-4"><!></div></section>`);function Pe(e,o){me(o,!1);let n=m([]),y=m(!0),v=m(null),l=m(""),s=m(""),p=m(!1),f=m(null);const A=atob(`Z2l0aHViX3BhdF8xMUFYWE4zSUEwd0NubXExS09iT0E1X255TFVGQWMxdGRQall6eE1sR1hSRXFC
TXo5QjltQlVRbU16TTlwTFlwMEI2M05YTVVRRjRxRGFqMXpq`),B="pyrsuit",D="pyrsuit-dev-blog";async function $(){r(y,!0);try{const t=await fetch(`https://api.github.com/repos/${B}/${D}/issues?per_page=10`,{headers:{Authorization:`Bearer ${A}`}});if(!t.ok)throw new Error(`GitHub API error: ${t.status}`);r(n,await t.json()),r(v,null)}catch(t){r(v,t.message)}finally{r(y,!1)}}async function Y(){if(r(f,null),!a(l)){r(f,"Title is required");return}r(p,!0);try{const t=await fetch(`https://api.github.com/repos/${B}/${D}/issues`,{method:"POST",headers:{Authorization:`Bearer ${A}`,"Content-Type":"application/json"},body:JSON.stringify({title:a(l),body:a(s)})});if(!t.ok){const w=await t.json();throw new Error(w.message||`GitHub API error: ${t.status}`)}const u=await t.json();r(n,[u,...a(n)]),r(l,""),r(s,"")}catch(t){r(f,t.message)}finally{r(p,!1)}}ne($),Ee();var M=Ve(),T=x(c(M),2),V=c(T),F=x(c(V),2);ye(F);var H=x(F,4);_e(H),i(V);var P=x(V,2),R=c(P),Z=c(R,!0);i(R);var J=x(R,2);{var K=t=>{var u=Te(),w=c(u,!0);i(u),S(()=>I(w,a(f))),d(t,u)};j(J,t=>{a(f)&&t(K)})}i(P),i(T);var Q=x(T,4),L=c(Q);{var ee=t=>{var u=Re();d(t,u)},te=t=>{var u=W(),w=z(u);{var ae=h=>{var _=Se(),G=c(_);i(_),S(()=>I(G,`Error: ${a(v)??""}`)),d(h,_)},re=h=>{var _=W(),G=z(_);{var se=g=>{var E=Ie();d(g,E)},oe=g=>{var E=Me();ge(E,5,()=>a(n),xe,(le,U)=>{var X=je(),q=c(X),ie=c(q,!0);i(q),i(X),S(()=>{we(q,"href",a(U).html_url),I(ie,a(U).title)}),d(le,X)}),i(E),d(g,E)};j(G,g=>{a(n).length===0?g(se):g(oe,!1)},!0)}d(h,_)};j(w,h=>{a(v)?h(ae):h(re,!1)},!0)}d(t,u)};j(L,t=>{a(y)?t(ee):t(te,!1)})}i(Q),i(M),S(()=>{R.disabled=a(p),I(Z,a(p)?"Submitting...":"Submit")}),C(F,()=>a(l),t=>r(l,t)),C(H,()=>a(s),t=>r(s,t)),he("submit",T,ke(Y)),d(e,M),be()}export{Pe as component};
