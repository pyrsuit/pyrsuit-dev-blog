import"../chunks/CWj6FrbW.js";import"../chunks/69_IOA4Y.js";import{o as ae}from"../chunks/BQKW94_3.js";import{an as se,X as oe,ao as le,h as ie,ag as ne,a0 as m,ai as I,g as r,a2 as f,aj as ue,am as _,ak as u,al as i,m as d,s as a}from"../chunks/BL34K8iG.js";import{l as ce,e as ve,r as fe,s as N}from"../chunks/PihmmPUa.js";import{i as A}from"../chunks/C5S1ovEm.js";import{e as de,i as me}from"../chunks/CB1J4oH8.js";import{r as pe,s as be}from"../chunks/D8rofwjd.js";import{i as he}from"../chunks/42L8Ptez.js";function z(e,o,n=o){var g=se();ce(e,"input",l=>{var s=l?e.defaultValue:e.value;if(s=P(e)?C(s):s,n(s),g&&s!==(s=o())){var p=e.selectionStart,v=e.selectionEnd;e.value=s??"",v!==null&&(e.selectionStart=p,e.selectionEnd=Math.min(v,e.value.length))}}),(ie&&e.defaultValue!==e.value||oe(o)==null&&e.value)&&n(P(e)?C(e.value):e.value),le(()=>{var l=o();P(e)&&l===C(e.value)||e.type==="date"&&!l&&!e.value||l!==e.value&&(e.value=l??"")})}function P(e){var o=e.type;return o==="number"||o==="range"}function C(e){return e===""?null:+e}function _e(e){return function(...o){var n=o[0];return n.preventDefault(),e==null?void 0:e.apply(this,o)}}var ge=m('<p class="text-red-600 mt-2"> </p>'),ye=m('<p class="text-gray-600">Loading issues…</p>'),xe=m('<p class="text-red-600"> </p>'),we=m('<p class="text-gray-600">No issues found.</p>'),ke=m('<li><a target="_blank" rel="noopener noreferrer" class="text-black hover:underline text-lg"> </a></li>'),Ee=m('<ul class="space-y-4"></ul>'),Te=m(`<section class="w-full max-w-5xl mx-auto px-6 pt-4 pb-16 space-y-8"><h1 class="text-2xl font-light tracking-tight">Contribute a topic — I'm gathering things to dig into</h1> <form class="space-y-4"><div><label for="title" class="block text-sm font-medium text-gray-700">Title</label> <input id="title" type="text" required class="w-full mt-1 px-4 py-2 border border-gray-300 rounded-md shadow-sm bg-white focus:outline-none focus:ring focus:border-blue-300"/> <label for="description" class="block text-sm font-medium text-gray-700">Description</label> <textarea id="description" rows="4" class="w-full mt-1 px-4 py-2 border border-gray-300 rounded-md shadow-sm bg-white focus:outline-none focus:ring focus:border-blue-300"></textarea></div> <div><button type="submit" class="border border-black text-black bg-transparent px-4 py-2 rounded-md transition font-normal hover:font-semibold disabled:opacity-50"> </button> <!></div></form> <hr class="border-t border-gray-300 mt-10"/> <div class="mt-10 space-y-4"><!></div></section>`);function Pe(e,o){ne(o,!1);let n=d([]),g=d(!0),l=d(null),s=d(""),p=d(""),v=d(!1),y=d(null);const G="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",H="pyrsuit",X="pyrsuit-dev-blog";async function F(){a(g,!0);try{const t=await fetch(`https://api.github.com/repos/${H}/${X}/issues?per_page=10`,{headers:{Authorization:`Bearer ${G}`}});if(!t.ok)throw new Error(`GitHub API error: ${t.status}`);a(n,await t.json()),a(l,null)}catch(t){a(l,t.message)}finally{a(g,!1)}}async function J(){if(a(y,null),!r(s)){a(y,"Title is required");return}a(v,!0);try{const t=await fetch(`https://api.github.com/repos/${H}/${X}/issues`,{method:"POST",headers:{Authorization:`Bearer ${G}`,"Content-Type":"application/json"},body:JSON.stringify({title:r(s),body:r(p)})});if(!t.ok){const x=await t.json();throw new Error(x.message||`GitHub API error: ${t.status}`)}const c=await t.json();a(n,[c,...r(n)]),a(s,""),a(p,"")}catch(t){a(y,t.message)}finally{a(v,!1)}}ae(F),he();var S=Te(),E=_(u(S),2),V=u(E),j=_(u(V),2);pe(j);var K=_(j,4);fe(K),i(V);var M=_(V,2),T=u(M),L=u(T,!0);i(T);var R=_(T,2);{var W=t=>{var c=ge(),x=u(c,!0);i(c),I(()=>N(x,r(y))),f(t,c)};A(R,t=>{r(y)&&t(W)})}i(M),i(E);var $=_(E,4),Q=u($);{var U=t=>{var c=ye();f(t,c)},Z=(t,c)=>{{var x=b=>{var w=xe(),B=u(w);i(w),I(()=>N(B,`Error: ${r(l)??""}`)),f(b,w)},Y=(b,w)=>{{var B=h=>{var k=we();f(h,k)},ee=h=>{var k=Ee();de(k,5,()=>r(n),me,(te,q)=>{var D=ke(),O=u(D),re=u(O,!0);i(O),i(D),I(()=>{be(O,"href",r(q).html_url),N(re,r(q).title)}),f(te,D)}),i(k),f(h,k)};A(b,h=>{r(n).length===0?h(B):h(ee,!1)},w)}};A(t,b=>{r(l)?b(x):b(Y,!1)},c)}};A(Q,t=>{r(g)?t(U):t(Z,!1)})}i($),i(S),I(()=>{T.disabled=r(v),N(L,r(v)?"Submitting...":"Submit")}),z(j,()=>r(s),t=>a(s,t)),z(K,()=>r(p),t=>a(p,t)),ve("submit",E,_e(J)),f(e,S),ue()}export{Pe as component};
