import"../chunks/CWj6FrbW.js";import"../chunks/69_IOA4Y.js";import{o as re}from"../chunks/BQKW94_3.js";import{an as se,X as oe,ao as le,h as ie,ag as ne,a0 as d,ai as A,g as a,a2 as f,aj as ue,am as _,ak as u,al as i,m,s as r}from"../chunks/BL34K8iG.js";import{l as ce,e as ve,r as fe,s as I}from"../chunks/PihmmPUa.js";import{i as D}from"../chunks/C5S1ovEm.js";import{e as me,i as de}from"../chunks/CB1J4oH8.js";import{r as pe,s as be}from"../chunks/D8rofwjd.js";import{i as he}from"../chunks/42L8Ptez.js";function $(e,o,n=o){var g=se();ce(e,"input",l=>{var s=l?e.defaultValue:e.value;if(s=N(e)?G(s):s,n(s),g&&s!==(s=o())){var p=e.selectionStart,v=e.selectionEnd;e.value=s??"",v!==null&&(e.selectionStart=p,e.selectionEnd=Math.min(v,e.value.length))}}),(ie&&e.defaultValue!==e.value||oe(o)==null&&e.value)&&n(N(e)?G(e.value):e.value),le(()=>{var l=o();N(e)&&l===G(e.value)||e.type==="date"&&!l&&!e.value||l!==e.value&&(e.value=l??"")})}function N(e){var o=e.type;return o==="number"||o==="range"}function G(e){return e===""?null:+e}function _e(e){return function(...o){var n=o[0];return n.preventDefault(),e==null?void 0:e.apply(this,o)}}var ge=d('<p class="text-red-600 mt-2"> </p>'),ye=d('<p class="text-gray-600">Loading issues…</p>'),xe=d('<p class="text-red-600"> </p>'),we=d('<p class="text-gray-600">No issues found.</p>'),ke=d('<li><a target="_blank" rel="noopener noreferrer" class="text-black hover:underline text-lg"> </a></li>'),Se=d('<ul class="space-y-4"></ul>'),Ee=d(`<section class="w-full max-w-5xl mx-auto px-6 pt-4 pb-16 space-y-8"><h1 class="text-2xl font-light tracking-tight">Contribute a topic — I'm gathering things to dig into</h1> <form class="space-y-4"><div><label for="title" class="block text-sm font-medium text-gray-700">Title</label> <input id="title" type="text" required class="w-full mt-1 px-4 py-2 border border-gray-300 rounded-md shadow-sm bg-white focus:outline-none focus:ring focus:border-blue-300"/> <label for="description" class="block text-sm font-medium text-gray-700">Description</label> <textarea id="description" rows="4" class="w-full mt-1 px-4 py-2 border border-gray-300 rounded-md shadow-sm bg-white focus:outline-none focus:ring focus:border-blue-300"></textarea></div> <div><button type="submit" class="border border-black text-black bg-transparent px-4 py-2 rounded-md transition font-normal hover:font-semibold disabled:opacity-50"> </button> <!></div></form> <hr class="border-t border-gray-300 mt-10"/> <div class="mt-10 space-y-4"><!></div></section>`);function Ne(e,o){ne(o,!1);let n=m([]),g=m(!0),l=m(null),s=m(""),p=m(""),v=m(!1),y=m(null);const L="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",z="pyrsuit",F="pyrsuit-dev-blog";async function q(){r(g,!0);try{const t=await fetch(`https://api.github.com/repos/${z}/${F}/issues?per_page=10`,{headers:{Authorization:`Bearer ${L}`}});if(!t.ok)throw new Error(`GitHub API error: ${t.status}`);r(n,await t.json()),r(l,null)}catch(t){r(l,t.message)}finally{r(g,!1)}}async function C(){if(r(y,null),!a(s)){r(y,"Title is required");return}r(v,!0);try{const t=await fetch(`https://api.github.com/repos/${z}/${F}/issues`,{method:"POST",headers:{Authorization:`Bearer ${L}`,"Content-Type":"application/json"},body:JSON.stringify({title:a(s),body:a(p)})});if(!t.ok){const x=await t.json();throw new Error(x.message||`GitHub API error: ${t.status}`)}const c=await t.json();r(n,[c,...a(n)]),r(s,""),r(p,"")}catch(t){r(y,t.message)}finally{r(v,!1)}}re(q),he();var T=Ee(),S=_(u(T),2),j=u(S),B=_(u(j),2);pe(B);var H=_(B,4);fe(H),i(j);var M=_(j,2),E=u(M),J=u(E,!0);i(E);var K=_(E,2);{var R=t=>{var c=ge(),x=u(c,!0);i(c),A(()=>I(x,a(y))),f(t,c)};D(K,t=>{a(y)&&t(R)})}i(M),i(S);var Q=_(S,4),U=u(Q);{var Z=t=>{var c=ye();f(t,c)},W=(t,c)=>{{var x=b=>{var w=xe(),O=u(w);i(w),A(()=>I(O,`Error: ${a(l)??""}`)),f(b,w)},Y=(b,w)=>{{var O=h=>{var k=we();f(h,k)},ee=h=>{var k=Se();me(k,5,()=>a(n),de,(te,V)=>{var P=ke(),X=u(P),ae=u(X,!0);i(X),i(P),A(()=>{be(X,"href",a(V).html_url),I(ae,a(V).title)}),f(te,P)}),i(k),f(h,k)};D(b,h=>{a(n).length===0?h(O):h(ee,!1)},w)}};D(t,b=>{a(l)?b(x):b(Y,!1)},c)}};D(U,t=>{a(g)?t(Z):t(W,!1)})}i(Q),i(T),A(()=>{E.disabled=a(v),I(J,a(v)?"Submitting...":"Submit")}),$(B,()=>a(s),t=>r(s,t)),$(H,()=>a(p),t=>r(p,t)),ve("submit",S,_e(C)),f(e,T),ue()}export{Ne as component};
